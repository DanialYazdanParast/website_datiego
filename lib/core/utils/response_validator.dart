import 'package:dio/dio.dart';
import 'package:datiego/core/utils/exceptions.dart';

/// **๐ HttpResponseValidat - ุงุนุชุจุงุฑุณูุฌ ูพุงุณุฎโูุง HTTP**
///
/// ุงู mixin ุจุฑุง ุจุฑุฑุณ ู ุงุนุชุจุงุฑุณูุฌ ูพุงุณุฎโูุง ุฏุฑุงูุช ุงุฒ ุณุฑูุฑ ุงุณุชูุงุฏู ูโุดูุฏ.
/// ุฏุฑ ุตูุฑุช ฺฉู ูพุงุณุฎ ุฏุงุฑุง ูุถุนุช **ุบุฑ ุงุฒ 200** ุจุงุดุฏุ ฺฉ ุงุณุชุซูุง ุงุฒ ููุน `AppException` ูพุฑุชุงุจ ุฎูุงูุฏ ุดุฏ.
mixin HttpResponseValidat {
  /// **โ ูุชุฏ ุจุฑุฑุณ ูพุงุณุฎ HTTP**
  ///
  /// ุงู ูุชุฏ ูุถุนุช ูพุงุณุฎ ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ู ุฏุฑ ุตูุฑุช ุบุฑูุฌุงุฒ ุจูุฏูุ ฺฉ `AppException` ูพุฑุชุงุจ ูโฺฉูุฏ.
  ///
  /// **ูพุงุฑุงูุชุฑ:**
  /// - `response` : ฺฉ ุดุก `Response` ฺฉู ุงุฒ `Dio` ุฏุฑุงูุช ุดุฏู ุงุณุช.
  ///
  /// **ูพุฑุชุงุจ ุฎุทุง:**
  /// - ุงฺฏุฑ `statusCode` ุจุฑุงุจุฑ ุจุง `200` ูุจุงุดุฏุ ุฎุทุง `AppException` ูพุฑุชุงุจ ูโุดูุฏ.
  validatResponse(Response response) {
    if (response.statusCode != 200) {
      throw AppException();
    }
  }
}
